<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>VOClient API: cvoRegistry.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvoRegistry.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;signal.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &quot;VOClient.h&quot;</code><br>
<code>#include &quot;<a class="el" href="vocServer_8h_source.html">vocServer.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="cvoRegistry_8h_source.html">cvoRegistry.h</a>&quot;</code><br>
<code>#include &quot;votParse.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5877ff2df8aba4c1e406b5038fb2ff8"></a><!-- doxytag: member="cvoRegistry.c::svr_newHandle" ref="a5877ff2df8aba4c1e406b5038fb2ff8" args="(int context, void *p)" -->
handle_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>svr_newHandle</b> (int context, void *p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2d386fb90bae443bb36b6fcb6bc80796"></a><!-- doxytag: member="cvoRegistry.c::svr_H2P" ref="2d386fb90bae443bb36b6fcb6bc80796" args="(handle_t h)" -->
void *&nbsp;</td><td class="memItemRight" valign="bottom"><b>svr_H2P</b> (handle_t h)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="01928130c54d9a765dfd2b95e22837a8"></a><!-- doxytag: member="cvoRegistry.c::svr_P2H" ref="01928130c54d9a765dfd2b95e22837a8" args="(void *p)" -->
handle_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>svr_P2H</b> (void *p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">RegResult&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#9366c272f400727531ec27ad08c027e8">cvo_regSearch</a> (char *term1, char *term2, int orValues)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">High-level Registry query interface.  <a href="#9366c272f400727531ec27ad08c027e8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">RegResult&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#f46e688592ab745f10d7e8a370991e61">cvo_regSearchByService</a> (char *svc, char *term, int orValues)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search Registry using a search term and service constraint.  <a href="#f46e688592ab745f10d7e8a370991e61"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">RegQuery&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#05c503be56fcb9fe9c55b6eac2a26abe">cvo_regQuery</a> (char *term, int orValues)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a RegistryQuery object.  <a href="#05c503be56fcb9fe9c55b6eac2a26abe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#198015ef73194e19b440425030f6d147">cvo_regAddSearchTerm</a> (RegQuery query, char *term, int orValue)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a search term to the specified query.  <a href="#198015ef73194e19b440425030f6d147"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#e5250ddbc5310f83f9b267499e986539">cvo_regRemoveSearchTerm</a> (RegQuery query, char *term)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a search term to the specified query.  <a href="#e5250ddbc5310f83f9b267499e986539"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#80a37a7161f25380da6b3d713e35d6e9">cvo_regConstWaveband</a> (RegQuery query, char *waveband)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constrain the Registry search by waveband.  <a href="#80a37a7161f25380da6b3d713e35d6e9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="25e548495229978e448cc990fa37a986"></a><!-- doxytag: member="cvoRegistry.c::cvo_regConstSvcType" ref="25e548495229978e448cc990fa37a986" args="(RegQuery query, char *svcType)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>cvo_regConstSvcType</b> (RegQuery query, char *svcType)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#4cfb875adc412b6c42ddda1f2d49e8f9">cvo_regDALOnly</a> (RegQuery query, int value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the "DAL Only" flag.  <a href="#4cfb875adc412b6c42ddda1f2d49e8f9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#9d4f9a229cc7b256ca0aa349c91e5a4e">cvo_regSortRes</a> (RegQuery query, int value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the resource "sort" flag.  <a href="#9d4f9a229cc7b256ca0aa349c91e5a4e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#2de7c49d1bb4fe70a06761475e11cb01">cvo_regGetSTCount</a> (RegQuery query)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of search terms in the current query.  <a href="#2de7c49d1bb4fe70a06761475e11cb01"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#cde5421a8a7830ee466b7ac45096dd0b">cvo_regGetQueryString</a> (RegQuery query)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current query as an http GET URL.  <a href="#cde5421a8a7830ee466b7ac45096dd0b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">RegResult&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#f2308430098114eb15210dcb3852750a">cvo_regExecute</a> (RegQuery query)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute the specified query.  <a href="#f2308430098114eb15210dcb3852750a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#8f8c447d88b828723ec2ceabbdac859a">cvo_regExecuteRaw</a> (RegQuery query)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute the specified query and return raw result string.  <a href="#8f8c447d88b828723ec2ceabbdac859a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#03504b60873a1723eb7a1287878efef1">cvo_resGetCount</a> (RegResult res)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a count of the number of results records.  <a href="#03504b60873a1723eb7a1287878efef1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#11bc0ce3b0f16f7aa5d8fd7816fc6d6e">cvo_resGetStr</a> (RegResult res, char *attr, int index)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a string-valued attribute from the result resource record.  <a href="#11bc0ce3b0f16f7aa5d8fd7816fc6d6e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#7fb118211f9ea9fc175730898ef85600">cvo_resGetFloat</a> (RegResult res, char *attr, int index)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a real-valued attribute from the result resource record.  <a href="#7fb118211f9ea9fc175730898ef85600"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvoRegistry_8c.html#d95a593541c548286fae48b1adc28b6d">cvo_resGetInt</a> (RegResult res, char *attr, int index)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get an int-valued attribute from the result resource record.  <a href="#d95a593541c548286fae48b1adc28b6d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5ca1cc31b57afe9501457bb73cea31ad"></a><!-- doxytag: member="cvoRegistry.c::cvo_break" ref="5ca1cc31b57afe9501457bb73cea31ad" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>cvo_break</b> (void)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e8b9013ac3d6a8f93991444d8c8c5919"></a><!-- doxytag: member="cvoRegistry.c::vo" ref="e8b9013ac3d6a8f93991444d8c8c5919" args="" -->
VOClient *&nbsp;</td><td class="memItemRight" valign="bottom"><b>vo</b></td></tr>

</table>
<hr><h2>Detailed Description</h2>
CVO_REGISTRYQUERY -- Utility code to act as a client interface to the VO Registry service.<p>
RegistryQuery ----------------------<p>
High-Level Query:<p>
res = cvo_regSearch (sql, keywords, orValues) res =cvo_regSearchByService (svc, term, orValues)<p>
Programmatic Query:<p>
query = cvo_regQuery (term, orValues) // OR keyword list?<p>
cvo_regConstSvcType (query, svcType) // search constraints cvo_regConstWaveband (query, waveband) cvo_regDALOnly (query, value) cvo_regSortRes (query, value)<p>
cvo_regAddSearchTerm (query, term, orValue) // OR term w/ previous cvo_regRemoveSearchTerm (query, term) // remove search term count = cvo_regGetSTCount (query)<p>
str = cvo_regGetQueryString (query) // GET form of query<p>
res = cvo_regExecute (query) // return result obj str = cvo_regExecuteRaw (query) // return raw XML<p>
RegistryQueryResult<p>
count = cvo_resGetCount (res)<p>
str = cvo_resGetStr (res, attribute, index) dval = cvo_resGetFloat (res, attribute, index) ival = cvo_resGetInt (res, attribute, index)<p>
For this implementation, we've chose to use the NVO Registry at JHU/STScI, specifically the QueryRegistry() method which provides a 'SimpleResource' form of the resource record. Support for the newer IVOA standard will be added later, for now we can quickly access the most commonly used fields of a resource using both a keyword and SQL form of the search.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Michael Fitzpatrick </dd></dl>
<dl class="version" compact><dt><b>Version:</b></dt><dd>January 2014 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="198015ef73194e19b440425030f6d147"></a><!-- doxytag: member="cvoRegistry.c::cvo_regAddSearchTerm" ref="198015ef73194e19b440425030f6d147" args="(RegQuery query, char *term, int orValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cvo_regAddSearchTerm           </td>
          <td>(</td>
          <td class="paramtype">RegQuery&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>orValue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a search term to the specified query. 
<p>
CVO_REGADDSEARCHTERM -- Add a search term (sql predicate or keyword list) to the specified query.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>Registry query handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>term</em>&nbsp;</td><td>keyword search term </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>orValues</em>&nbsp;</td><td>logically OR values? </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

</div>
</div><p>
<a class="anchor" name="80a37a7161f25380da6b3d713e35d6e9"></a><!-- doxytag: member="cvoRegistry.c::cvo_regConstWaveband" ref="80a37a7161f25380da6b3d713e35d6e9" args="(RegQuery query, char *waveband)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cvo_regConstWaveband           </td>
          <td>(</td>
          <td class="paramtype">RegQuery&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>svcType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constrain the Registry search by waveband. 
<p>
Constrain the Registry search by service type.<p>
CVO_REGCONSTWAVEBAND -- Constrain the Registry search by waveband.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>Registry query handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>waveband</em>&nbsp;</td><td>waveband string </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing</dd></dl>
CVO_REGCONSTSVCTYPE -- Constraing the Registry search by service type.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>Registry query handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>svcType</em>&nbsp;</td><td>service type string </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

</div>
</div><p>
<a class="anchor" name="4cfb875adc412b6c42ddda1f2d49e8f9"></a><!-- doxytag: member="cvoRegistry.c::cvo_regDALOnly" ref="4cfb875adc412b6c42ddda1f2d49e8f9" args="(RegQuery query, int value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cvo_regDALOnly           </td>
          <td>(</td>
          <td class="paramtype">RegQuery&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the "DAL Only" flag. 
<p>
CVO_REGDALONLY -- Set the "DAL Only" flag. If set, we expand a resource search to break out the individual DAL services into separate results.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>Registry query handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>value of the DAL-only flag </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

</div>
</div><p>
<a class="anchor" name="f2308430098114eb15210dcb3852750a"></a><!-- doxytag: member="cvoRegistry.c::cvo_regExecute" ref="f2308430098114eb15210dcb3852750a" args="(RegQuery query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">res cvo_regExecute           </td>
          <td>(</td>
          <td class="paramtype">RegQuery&nbsp;</td>
          <td class="paramname"> <em>query</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Execute the specified query. 
<p>
CVO_REGEXECUTE -- Execute the specified query, returning a result object code or NULL.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>Registry query handle </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>registry result object handle </dd></dl>

</div>
</div><p>
<a class="anchor" name="8f8c447d88b828723ec2ceabbdac859a"></a><!-- doxytag: member="cvoRegistry.c::cvo_regExecuteRaw" ref="8f8c447d88b828723ec2ceabbdac859a" args="(RegQuery query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str cvo_regExecuteRaw           </td>
          <td>(</td>
          <td class="paramtype">RegQuery&nbsp;</td>
          <td class="paramname"> <em>query</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Execute the specified query and return raw result string. 
<p>
CVO_REGEXECUTERAW -- Execute the specified query and return the raw resulting XML string.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>Registry query handle </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>raw data return from data (caller must free) </dd></dl>

</div>
</div><p>
<a class="anchor" name="cde5421a8a7830ee466b7ac45096dd0b"></a><!-- doxytag: member="cvoRegistry.c::cvo_regGetQueryString" ref="cde5421a8a7830ee466b7ac45096dd0b" args="(RegQuery query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">url cvo_regGetQueryString           </td>
          <td>(</td>
          <td class="paramtype">RegQuery&nbsp;</td>
          <td class="paramname"> <em>query</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current query as an http GET URL. 
<p>
CVO_REGGETQUERYSTRING -- Get the current query as an http GET URL.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>Registry query handle </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>query URL </dd></dl>

</div>
</div><p>
<a class="anchor" name="2de7c49d1bb4fe70a06761475e11cb01"></a><!-- doxytag: member="cvoRegistry.c::cvo_regGetSTCount" ref="2de7c49d1bb4fe70a06761475e11cb01" args="(RegQuery query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">count cvo_regGetSTCount           </td>
          <td>(</td>
          <td class="paramtype">RegQuery&nbsp;</td>
          <td class="paramname"> <em>query</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of search terms in the current query. 
<p>
CVO_REGGETSTCOUNT -- Get the number of search terms in the current query.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>Registry query handle </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

</div>
</div><p>
<a class="anchor" name="05c503be56fcb9fe9c55b6eac2a26abe"></a><!-- doxytag: member="cvoRegistry.c::cvo_regQuery" ref="05c503be56fcb9fe9c55b6eac2a26abe" args="(char *term, int orValues)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">v cvo_regQuery           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>orValues</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a RegistryQuery object. 
<p>
CVO_REGQUERY -- Create a RegistryQuery object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>term</em>&nbsp;</td><td>keyword search term </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>orValues</em>&nbsp;</td><td>logically OR values? </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>handle to Registry Query object </dd></dl>

</div>
</div><p>
<a class="anchor" name="e5250ddbc5310f83f9b267499e986539"></a><!-- doxytag: member="cvoRegistry.c::cvo_regRemoveSearchTerm" ref="e5250ddbc5310f83f9b267499e986539" args="(RegQuery query, char *term)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cvo_regRemoveSearchTerm           </td>
          <td>(</td>
          <td class="paramtype">RegQuery&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>term</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove a search term to the specified query. 
<p>
CVO_REMOVESEARCHTERM -- Remove the search term from the query.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>Registry query handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>term</em>&nbsp;</td><td>keyword search term </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

</div>
</div><p>
<a class="anchor" name="9366c272f400727531ec27ad08c027e8"></a><!-- doxytag: member="cvoRegistry.c::cvo_regSearch" ref="9366c272f400727531ec27ad08c027e8" args="(char *term1, char *term2, int orValues)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">res cvo_regSearch           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>term1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>term2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>orValues</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
High-level Registry query interface. 
<p>
CVO_REGSEARCH -- High-level procedure to form a query and execute it immediately. We allow that 'term1' may be a complex SQL WHERE predicate, and that 'term2' (or vice versa) is a search-keyword list. The 'orValues' applies to the keyword list (if present), otherwise it applies to the two search term elements. The default action if two terms are specified is to logically AND them.<p>
The thinking here is that one might want SIAP services for Quasars. This is easily expressed in an SQL form to get SIAP resources, however a Quasar may be known as a QSO, AGN, active-nuclei, etc and so we need a easy way to OR the keywords but AND that result with the SQL predicate.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>term1</em>&nbsp;</td><td>first search term </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>term2</em>&nbsp;</td><td>second search term </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>orValues</em>&nbsp;</td><td>logically OR values? </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>handle to Registry result object </dd></dl>

</div>
</div><p>
<a class="anchor" name="f46e688592ab745f10d7e8a370991e61"></a><!-- doxytag: member="cvoRegistry.c::cvo_regSearchByService" ref="f46e688592ab745f10d7e8a370991e61" args="(char *svc, char *term, int orValues)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">res cvo_regSearchByService           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>svc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>orValues</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Search Registry using a search term and service constraint. 
<p>
CVO_REGSEARCHBYSERVICE -- Search the Registry using a search term and constrain by service type.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>svc</em>&nbsp;</td><td>service type constraint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>term</em>&nbsp;</td><td>keyword search term </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>orValues</em>&nbsp;</td><td>logically OR values? </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>handle to Registry result object </dd></dl>

</div>
</div><p>
<a class="anchor" name="9d4f9a229cc7b256ca0aa349c91e5a4e"></a><!-- doxytag: member="cvoRegistry.c::cvo_regSortRes" ref="9d4f9a229cc7b256ca0aa349c91e5a4e" args="(RegQuery query, int value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cvo_regSortRes           </td>
          <td>(</td>
          <td class="paramtype">RegQuery&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the resource "sort" flag. 
<p>
CVO_REGSORTRES -- Set the resource "sort" flag. If enabled, we try to order the resource table by some logical means.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>Registry query handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>value of the sort flag </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

</div>
</div><p>
<a class="anchor" name="03504b60873a1723eb7a1287878efef1"></a><!-- doxytag: member="cvoRegistry.c::cvo_resGetCount" ref="03504b60873a1723eb7a1287878efef1" args="(RegResult res)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">count cvo_resGetCount           </td>
          <td>(</td>
          <td class="paramtype">RegResult&nbsp;</td>
          <td class="paramname"> <em>res</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a count of the number of results records. 
<p>
CVO_RESGETCOUNT -- Return a count of the number of results records.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>res</em>&nbsp;</td><td>Registry result handle </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of result records </dd></dl>

</div>
</div><p>
<a class="anchor" name="7fb118211f9ea9fc175730898ef85600"></a><!-- doxytag: member="cvoRegistry.c::cvo_resGetFloat" ref="7fb118211f9ea9fc175730898ef85600" args="(RegResult res, char *attr, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dval cvo_resGetFloat           </td>
          <td>(</td>
          <td class="paramtype">RegResult&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a real-valued attribute from the result resource record. 
<p>
CVO_GETFLOAT -- Get a real-valued attribute from the result resource record. Currently recognized real-valued attributes include:<p>
MaxSR maximum search radius<p>
Attribute string are case-insensitive.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>res</em>&nbsp;</td><td>Registry result handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>attr</em>&nbsp;</td><td>record attribute </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>record index </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string-valued attribute </dd></dl>

</div>
</div><p>
<a class="anchor" name="d95a593541c548286fae48b1adc28b6d"></a><!-- doxytag: member="cvoRegistry.c::cvo_resGetInt" ref="d95a593541c548286fae48b1adc28b6d" args="(RegResult res, char *attr, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ival cvo_resGetInt           </td>
          <td>(</td>
          <td class="paramtype">RegResult&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get an int-valued attribute from the result resource record. 
<p>
CVO_GETINT -- Get a integer-valued attribute from the result resource record. Currently recognized real-valued attributes include:<p>
MaxRecords maximum records returned by the service<p>
Attribute string are case-insensitive.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>res</em>&nbsp;</td><td>Registry result handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>attr</em>&nbsp;</td><td>record attribute </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>record index </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string-valued attribute </dd></dl>

</div>
</div><p>
<a class="anchor" name="11bc0ce3b0f16f7aa5d8fd7816fc6d6e"></a><!-- doxytag: member="cvoRegistry.c::cvo_resGetStr" ref="11bc0ce3b0f16f7aa5d8fd7816fc6d6e" args="(RegResult res, char *attr, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str cvo_resGetStr           </td>
          <td>(</td>
          <td class="paramtype">RegResult&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a string-valued attribute from the result resource record. 
<p>
CVO_GETSTR -- Get a string-valued attribute from the result resource record. Currently recognized real-valued attributes include:<p>
Title Resource title (long version) ShortName Short name of Resource ServiceURL Service URL (if appropriate) ReferenceURL URL to reference about Resource Description Text description of resource Identifier Standard ivo identifier of resource ServiceType Service Type (Cone, Siap, etc) Type Resource Type (catalog, survey, etc) CoverageSpatial Spatial coverage (STC) CoverageTemporal Temporal coverage of data<p>
CoverageSpectral Spectral coverage (csv list of bandpasses) ContentLevel Content level (research, EPO, etc -- csv list)<p>
Attribute strings are case-insensitive.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>res</em>&nbsp;</td><td>Registry result handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>attr</em>&nbsp;</td><td>record attribute </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>record index </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string-valued attribute </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Sep 23 09:21:01 2014 for VOClient API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
